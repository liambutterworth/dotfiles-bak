PROMPT='%F{4}%3~%F{8}'

if [[ -n $vcs_info_msg_0_ ]]; then
    PROMPT+=" ${vcs_info_msg_0_}"
fi

if [[ -n $SSH_CLIENT ]] || [[ -n $SSH_TTY ]]; then
    PROMPT+=' %n@%M'
fi

PROMPT+=$'\n''%(?.%F{5}.%F{1})'

if [[ $KEYMAP = 'vicmd' ]]; then
    PROMPT+='❮'
else
    PROMPT+='❯'
fi

PROMPT+='%F{7} '

zle reset-prompt
