local rr_dir=$HOME/Development/rr

function session-exists {
    tmux has-session -t $1 &> /dev/null
}

if ! session-exists 'dotfiles'; then
    tmux new-session -s 'dotfiles' -n vim -c $HOME/.dotfiles -d
    tmux new-window -t 'dotfiles':1
fi

local projects=(
    'recruiting-admin'
    'careers-in-gear'
    'trucker-classifieds'
    'diesel-tech'
    'lead-api'
)

for project in $projects; do
    if ! session-exists $project; then
        tmux new-session -s $project -n server -c $rr_dir/$project -d
        tmux new-window -t $project:1 -n app -c $rr_dir/$project
    fi
done

